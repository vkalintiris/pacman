SRCINFO(5)
==========

Name
----
SRCINFO - Simple key-value export of PKGBUILD metadata

Synopsis
--------
This manual page describes the format of a .SRCINFO file found in a source
package created by makepkg. The file contains a serialized description of the
package's source metadata. It is intended for reading source package metadata
without evaluating bash code, e.g. in untrusted environments or from languages
other than bash.

Description
-----------
Information is formatted in hierarchical key-value pairs separated by a ' = ',
one value per line. Arrays are represented by multiple keys with the same
value. Unindented keys represent a .SRCINFO section header. Keys indented with
a single tab character belong to the unindented section header preceding it.

Comments are supported by beginning a line with the hash (#) symbol.

The first section must be the 'pkgbase' key, and corresponds to the 'pkgbase'
of the source PKGBUILD. This section will contain every global
linkman:PKGBUILD[5] option or directive defined by the PKGBUILD, except for
'pkgname'.

All remaining sections must be a 'pkgname' key, and there will be one section
for each element of the PKGBUILD's pkgname array. For each element of
'pkgname', the section contents (if any) will be the split package packaging
function's overridden values for supported options and directives.

Examples
--------

Single package
~~~~~~~~~~~~~~

The below example illustrates the file format when a .SRCINFO file describes a
single package.

----
pkgbase = pacman
	pkgdesc = A library-based package manager with dependency support
	pkgver = 6.0.2
	pkgrel = 5
	url = https://www.archlinux.org/pacman/
	arch = x86_64
	groups = base-devel
	license = GPL
	checkdepends = python
	checkdepends = fakechroot
	makedepends = meson
	makedepends = asciidoc
	makedepends = doxygen
	depends = bash
	depends = glibc
	depends = libarchive
	depends = curl
	depends = gpgme
	depends = pacman-mirrorlist
	depends = gettext
	depends = gawk
	depends = coreutils
	depends = gnupg
	depends = grep
	optdepends = perl-locale-gettext: translation support in makepkg-template
	provides = libalpm.so
	options = strip
	options = debug
	backup = etc/pacman.conf
	backup = etc/makepkg.conf
	source = https://sources.archlinux.org/other/pacman/pacman-6.0.2.tar.xz
	source = https://sources.archlinux.org/other/pacman/pacman-6.0.2.tar.xz.sig
	source = pacman-always-create-directories-from-debugedit.patch::https://gitlab.archlinux.org/pacman/pacman/-/commit/efd0c24c07b86be014a4edb5a8ece021b87e3900.patch
	source = pacman-always-create-directories-from-debugedit-fixup.patch::https://gitlab.archlinux.org/pacman/pacman/-/commit/86981383a2f4380bda26311831be94cdc743649b.patch
	source = pacman-fix-unique-source-paths.patch::https://gitlab.archlinux.org/pacman/pacman/-/commit/478af273dfe24ded197ec54ae977ddc3719d74a0.patch
	source = pacman-strip-include-o-files-similar-to-kernel-modules.patch::https://gitlab.archlinux.org/pacman/pacman/-/commit/de11824527ec4e2561e161ac40a5714ec943543c.patch
	source = pacman.conf
	source = makepkg.conf
	validpgpkeys = 6645B0A8C7005E78DB1D7864F99FFE0FEAE999BD
	validpgpkeys = B8151B117037781095514CA7BBDFFC92306B1121
	sha256sums = 7d8e3e8c5121aec0965df71f59bedf46052c6cf14f96365c4411ec3de0a4c1a5
	sha256sums = SKIP
	sha256sums = 522b789e442b3bb3afa7ea3fa417a99554f36ec00de3986cbe92c80f09a7db99
	sha256sums = dab7c70fb9d77d702069bb57f5a12496b463d68ae20460fb0a3ffcb4791321a9
	sha256sums = 0b56c61eac3d9425d68faa2eccbaefdc5ed422b643974ae829eaca0460043da1
	sha256sums = acd0b149b6324dc1eca3cd2d3b30df6ef64c5653e83523d77200ec593e01d2a7
	sha256sums = 606e55f06c297d2b508bc4438890b229a1abaa68b0374a2d7f94c8e7be6792d7
	sha256sums = 072020e34f2c55b94a9a486829a7eadab0a830ddb4d8e759b0c4e6cf1bde73a6

pkgname = pacman
----

Split package
~~~~~~~~~~~~~

The below example illustrates the file format when a .SRCINFO file describes a
split package with per package overrides to several fields.

----
pkgbase = linux
	pkgdesc = Linux
	pkgver = 6.0.10.arch2
	pkgrel = 1
	url = https://github.com/archlinux/linux/commits/v6.0.10-arch2
	arch = x86_64
	license = GPL2
	makedepends = bc
	makedepends = libelf
	makedepends = pahole
	makedepends = cpio
	makedepends = perl
	makedepends = tar
	makedepends = xz
	makedepends = xmlto
	makedepends = python-sphinx
	makedepends = python-sphinx_rtd_theme
	makedepends = graphviz
	makedepends = imagemagick
	makedepends = texlive-latexextra
	makedepends = git
	options = !strip
	source = archlinux-linux::git+https://github.com/archlinux/linux?signed#tag=v6.0.10-arch2
	source = config
	validpgpkeys = ABAF11C65A2970B130ABE3C479BE3E4300411886
	validpgpkeys = 647F28654894E3BD457199BE38DBBDC86092693E
	validpgpkeys = A2FF3A36AAA56654109064AB19802F8B0D70FC30
	validpgpkeys = C7E7849466FE2358343588377258734B41C31549
	sha256sums = SKIP
	sha256sums = 848ccd048f91b17f0e0192d2900c462986eeacf78bb578b2de9498c4a0526983

pkgname = linux
	pkgdesc = The Linux kernel and modules
	depends = coreutils
	depends = kmod
	depends = initramfs
	optdepends = wireless-regdb: to set the correct wireless channels of your country
	optdepends = linux-firmware: firmware images needed for some devices
	provides = VIRTUALBOX-GUEST-MODULES
	provides = WIREGUARD-MODULE
	provides = KSMBD-MODULE
	replaces = virtualbox-guest-modules-arch
	replaces = wireguard-arch

pkgname = linux-headers
	pkgdesc = Headers and scripts for building modules for the Linux kernel
	depends = pahole

pkgname = linux-docs
	pkgdesc = Documentation for the Linux kernel
----

See Also
--------
linkman:makepkg[8], linkman:PKGBUILD[5]

include::footer.asciidoc[]
